"use strict";const I=require("@codemirror/state"),e=require("@lezer/highlight"),g=require("markedit-api"),A=require("@codemirror/view"),L=require("@codemirror/language"),a={selectionBackground:".cm-selectionBackground",lineGutter:".cm-lineNumbers > .cm-activeLineGutter",foldGutter:".cm-foldGutter, .cm-foldPlaceholder",visibleSpace:".cm-visibleSpace, .cm-visibleSpace::before, .cm-visibleLineBreak, .cm-visibleLineBreak::before",matchingBracket:".cm-matchingBracket",activeIndicator:".cm-md-activeIndicator",emphasisElement:".cm-md-bold:not(.tok-meta), .cm-md-italic:not(.tok-meta), .cm-md-quote:not(.cm-md-quoteMark)",accentColor:".cm-md-header:not(.tok-meta):not(.cm-md-quote), .cm-md-codeInfo",syntaxMarker:".cm-md-header.tok-meta:not(.cm-md-quote), .cm-md-codeMark, .cm-md-linkMark, .cm-md-listMark, .cm-md-quoteMark"},V=`
.cm-activeLineGutter { background: inherit !important }
.cm-searchMatch.cm-searchMatch-selected { outline: inherit !important }
${a.lineGutter} {}
${a.foldGutter} {}
${a.visibleSpace} {}
${a.matchingBracket} {}
${a.activeIndicator} {}
${a.emphasisElement} {}
${a.accentColor} {}
${a.syntaxMarker} {}
`,N=window,U=N.__extractStyleRules__??(t=>t.value?.rules),W=N.__extractHighlightSpecs__??(t=>t.value?.specs);function K(t){const o=document.createElement("style");return o.textContent=t,document.head.appendChild(o),o}function z(t){if(t===void 0)return[{},[]];const o=Q(t);return[Object.fromEntries(o.flatMap(c=>{const n=U(c)?.join(`
`)??"";return Object.entries(X(n))})),o.flatMap(c=>W(c)??[])]}function F(t,o){return t.some(r=>r.tag.toString().includes(o.toString())?r.color!==void 0:!1)}function y(t,o,r){for(const[c,n]of Object.entries(t))if(c.includes(o)&&(r===void 0||!c.includes(r))){const s=n.background??n.backgroundColor;if(s!==void 0)return s}}function J(t){const o=t.match(/rgba?\((\d+), (\d+), (\d+)(?:, ([\d.]+))?\)/);if(o===null)return;const[r,c,n]=o.slice(1,4).map(Number);return`rgba(${r}, ${c}, ${n}, 0.6)`}function Q(t){const o=[],r=[t];for(;r.length>0;){const c=r.pop();Array.isArray(c)?c.forEach(n=>r.push(n)):"extension"in c?r.push(c.extension):o.push(c)}return o}function X(t){const o={},r=new CSSStyleSheet;r.replaceSync(t);for(const c of r.cssRules){const{style:n,selectorText:s}=c,{background:u,backgroundColor:m}=n;o[s]={},u.length>0&&(o[s].background=u),m.length>0&&(o[s].backgroundColor=m)}return o}function Y(t){t.light!==void 0&&(i().customThemes.light=t.light),t.dark!==void 0&&(i().customThemes.dark=t.dark),typeof g.MarkEdit.editorView=="object"&&C(g.MarkEdit.editorView)}const h=window,i=()=>h.__markeditTheming__,G=matchMedia("(prefers-color-scheme: dark)");typeof i()!="object"&&Z();function Z(){h.__markeditTheming__={styleSheet:K(V),configurator:new I.Compartment,customThemes:{},lightOriginalRules:{},darkOriginalRules:{}},g.MarkEdit.addExtension(i().configurator.of([])),g.MarkEdit.onEditorReady(o=>C(o));const t=()=>setTimeout(()=>C(g.MarkEdit.editorView),15);G.addEventListener("change",t),i().mainThemeName=h.config.theme,Object.defineProperty(h.config,"theme",{get(){return i().mainThemeName},set(o){i().mainThemeName=o,t()}})}function C(t){const o=G.matches,r=o?i().customThemes.dark:i().customThemes.light;t.dispatch({effects:i().configurator.reconfigure(r?.extension??[])});const[c,n]=z(r?.extension),s=r===void 0;i().styleSheet.disabled=s,ee(t,o,s,c,n,r?.colors)}function ee(t,o,r,c,n,s){const u=y(c,".cm-activeLine",".cm-activeLineGutter"),m=y(c,a.selectionBackground),R=y(c,a.matchingBracket),B=getComputedStyle(t.contentDOM).color,T=s?.visibleSpace??J(B),P=F(n,e.tags.heading),O=[[a.activeIndicator,u,"background"],[a.matchingBracket,R,"background"],[a.lineGutter,B,"color"],[a.foldGutter,T,"color"],[a.visibleSpace,T,"color"],[a.accentColor,s?.accentColor,"color"],[a.syntaxMarker,s?.syntaxMarker,"color"]],j=Array.from(document.querySelectorAll("style")),f=o?i().darkOriginalRules:i().lightOriginalRules;for(const H of j){const p=H.sheet?.cssRules;if(p!==void 0)for(let b=0;b<p.length;++b){const l=p[b],d=l.selectorText??"";d.includes(".cm-focused")&&d.includes(a.selectionBackground)&&(f.selectionBackground??=l.cssText,r?l.cssText=f.selectionBackground:m!==void 0&&l.style.setProperty("background",m,"important")),P&&(d===".cm-md-header"||d===".cm-md-header:not(.cm-md-quote)")&&(f.markdownHeader??=l.cssText,r?l.cssText=f.markdownHeader:l.style.removeProperty("color"));for(const[D,S,M]of O)d===D&&(S===void 0?l.style.removeProperty(M):(l.style.setProperty(M,S,"important"),(d===a.matchingBracket||d===a.activeIndicator)&&l.style.setProperty("box-shadow","unset","important")));d===a.emphasisElement&&(s?.subtleEmphasis??!0?l.style.setProperty("color","inherit","important"):l.style.removeProperty("color"))}}}const te="#e5c07b",w="#e06c75",oe="#56b6c2",re="#ffffff",k="#abb2bf",x="#7d8799",ce="#61afef",ae="#98c379",E="#d19a66",ne="#c678dd",se="#21252b",_="#2c313a",$="#282c34",v="#353a42",ie="#3E4451",q="#528bff",le=A.EditorView.theme({"&":{color:k,backgroundColor:$},".cm-content":{caretColor:q},".cm-cursor, .cm-dropCursor":{borderLeftColor:q},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:ie},".cm-panels":{backgroundColor:se,color:k},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:$,color:x,border:"none"},".cm-activeLineGutter":{backgroundColor:_},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:v},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:v,borderBottomColor:v},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:_,color:k}}},{dark:!0}),de=L.HighlightStyle.define([{tag:e.tags.keyword,color:ne},{tag:[e.tags.name,e.tags.deleted,e.tags.character,e.tags.propertyName,e.tags.macroName],color:w},{tag:[e.tags.function(e.tags.variableName),e.tags.labelName],color:ce},{tag:[e.tags.color,e.tags.constant(e.tags.name),e.tags.standard(e.tags.name)],color:E},{tag:[e.tags.definition(e.tags.name),e.tags.separator],color:k},{tag:[e.tags.typeName,e.tags.className,e.tags.number,e.tags.changed,e.tags.annotation,e.tags.modifier,e.tags.self,e.tags.namespace],color:te},{tag:[e.tags.operator,e.tags.operatorKeyword,e.tags.url,e.tags.escape,e.tags.regexp,e.tags.link,e.tags.special(e.tags.string)],color:oe},{tag:[e.tags.meta,e.tags.comment],color:x},{tag:e.tags.strong,fontWeight:"bold"},{tag:e.tags.emphasis,fontStyle:"italic"},{tag:e.tags.strikethrough,textDecoration:"line-through"},{tag:e.tags.link,color:x,textDecoration:"underline"},{tag:e.tags.heading,fontWeight:"bold",color:w},{tag:[e.tags.atom,e.tags.bool,e.tags.special(e.tags.variableName)],color:E},{tag:[e.tags.processingInstruction,e.tags.string,e.tags.inserted],color:ae},{tag:e.tags.invalid,color:re}]),me=[le,L.syntaxHighlighting(de)];Y({dark:{extension:me,colors:{accentColor:"#e06c75",syntaxMarker:"#98c379"}}});
